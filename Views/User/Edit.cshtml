@model CompanyBranding.ViewModel.CustomViewModel


<link href="https://cdn.jsdelivr.net/npm/bootstrap@5.1.3/dist/css/bootstrap.min.css" rel="stylesheet">
<link href="https://cdnjs.cloudflare.com/ajax/libs/OwlCarousel2/2.3.4/assets/owl.carousel.min.css" rel="stylesheet">
<link rel="stylesheet" href="https://use.fontawesome.com/releases/v5.13.0/css/all.css" integrity="sha384-Bfad6CLCknfcloXFOyFnlgtENryhrpZCe29RTifKEixXQZ38WheV+i/6YWSzkz3V" crossorigin="anonymous" />
<link href="https://cdn.jsdelivr.net/npm/bootstrap-icons@1.4.1/font/bootstrap-icons.css" rel="stylesheet">
<link rel="stylesheet" href="~/CSS/style.css">
<link href="~/Lib/animate/animate.css" rel="stylesheet">
<div class="container">
    @using (Html.BeginForm("Update", "User", FormMethod.Post, new { enctype = "multipart/form-data" }))
    {@Html.AntiForgeryToken()
    <form class="mt-5">
        @Html.ValidationSummary(true)
        @Html.HiddenFor(model => model.CustomerVM.id)
        <div class="row g-3">
            <div class="col-lg-6">
                <div class="form-group row">
                    <label for="name" class="col-form-label">Full Name </label>
                    <div class="">
                        @*<input type="text" class="form-control" id="inputName" placeholder="Full name">*@
                        @Html.TextBoxFor(model => model.CustomerVM.name, new { placeholder = "Full Name", @class = "form-control", id = "name", name = "name" })
                        @Html.ValidationMessageFor(model => model.CustomerVM.name, "", new { @class = "text-danger" })

                    </div>
                </div>
            </div>
            <div class="col-lg-6">
                <div class="form-group row">
                    <label for="companyName" class=" col-form-label">Company Name</label>
                    <!-- <i>if more than 1, submit seperately</i> -->
                    <div class="">
                        @Html.TextBoxFor(model => model.CustomerVM.company_name, new { placeholder = "Company Name", @class = "form-control", id = "companyName", name = "companyName" })
                        @Html.ValidationMessageFor(model => model.CustomerVM.company_name, "", new { @class = "text-danger" })
                    </div>
                </div>
            </div>
            <div class="col-lg-6">
                <div class="form-group row">
                    <label for="dba" class=" col-form-label">DBA</label>
                    <div class="">
                        @*<input type="text" class="form-control" id="inputDBA" placeholder="DBA">*@
                        @Html.TextBoxFor(model => model.CustomerVM.dba, new { placeholder = "DBA", @class = "form-control", id = "dba", name = "dba" })

                    </div>
                </div>
            </div>
            <div class="col-lg-6">
                <div class="form-group row">
                    <label for="email" class=" col-form-label">Email Id</label>
                    <!-- <i>if more than 1, submit seperately</i> -->
                    <div class="">
                        @* <input type="email" class="form-control" id="inputEmail" placeholder="Email">*@
                        @Html.TextBoxFor(model => model.CustomerVM.email, new { placeholder = "Email", @class = "form-control", id = "email", name = "email" })
                        @Html.ValidationMessageFor(model => model.CustomerVM.email, "", new { @class = "text-danger" })
                    </div>
                </div>
            </div>
            <div class="col-lg-6">
                <div class="form-group row">
                    <label for="phone" class=" col-form-label">Phone Number</label>
                    <div class="">
                        @Html.TextBoxFor(model => model.CustomerVM.phone, new { placeholder = "Phone Number", pattern = "[0-9]{10}", @class = "form-control", id = "phone", name = "phone" })
                        @Html.ValidationMessageFor(model => model.CustomerVM.phone, "", new { @class = "text-danger" })
                    </div>
                </div>
            </div>
            <div class="col-lg-6">
                <div class="form-group row">
                    <label for="ownerName" class=" col-form-label">Owner's Name</label>
                    <!-- <i>if more than 1, submit seperately</i> -->
                    <div class="">
                        @Html.TextBoxFor(model => model.CustomerVM.owner_name, new { placeholder = "Owner Name", @class = "form-control", id = "ownerName", name = "ownerName" })
                        @Html.ValidationMessageFor(model => model.CustomerVM.owner_name, "", new { @class = "text-danger" })
                    </div>
                </div>
            </div>
            <div class="col-lg-6">
                <div class="form-group row">
                    <label for="ownerPercentage" class=" col-form-label">Percentages of Ownership's</label>
                    <div class="">
                        @* <input type="text" class="form-control" id="inputOwnerPercentage" placeholder="% ownership">*@
                        @Html.TextBoxFor(model => model.CustomerVM.owner_percentage, new { placeholder = "% Ownership", @class = "form-control", id = "ownerPercentage", name = "ownerPercentage" })
                        @Html.ValidationMessageFor(model => model.CustomerVM.owner_percentage, "", new { @class = "text-danger" })
                    </div>
                </div>
            </div>
            <div class="col-lg-4">
                <div class="form-group row">
                    <label for="familyMember" class=" col-form-label">Family members on Payroll(and relationship)</label>
                    <!-- <i>if more than 1, submit seperately</i> -->
                    <div class="">
                        @*<input type="text" class="form-control" id="inputFamily" placeholder="Family member">*@
                        @Html.TextBoxFor(model => model.CustomerVM.family_member, new { placeholder = "Family Member", @class = "form-control", id = "familyMember", name = "familyMember" })
                        @Html.ValidationMessageFor(model => model.CustomerVM.family_member, "", new { @class = "text-danger" })
                    </div>
                </div>
            </div>
            <div class="col-lg-1 col-margin text-center"><span>Or</span></div>
            <div class="col-lg-1">
                <div class="form-group row">
                    <label for="chbFamily" class=" col-form-label">None</label>
                    <!-- <i>if more than 1, submit seperately</i> -->
                    <div class="">
                        @Html.CheckBoxFor(model => model.CustomerVM.chbFamily, new { id = "no_familyMember" })
                        @*<input type="checkbox" id="chbFamily" @if(Model.family_member== null  ) {<text> checked</text>} name="chbFamily">*@
                    </div>
                </div>
            </div>
            <div class="col-lg-6">
                <div class="form-group row">
                    <label for="contactName" class=" col-form-label">Point of contact name(if different than above)</label>
                    <div class="">
                        @* <input type="text" class="form-control" id="inputContactName" placeholder="Contact name">*@
                        @Html.TextBoxFor(model => model.CustomerVM.contact_person, new { placeholder = "Contact Name", @class = "form-control", id = "contactName", name = "contactName" })
                    </div>
                </div>
            </div>
            <div class="col-lg-6">
                <div class="form-group row">
                    <label for="referredBy" class=" col-form-label">Reffered By</label>
                    <!-- <i>if more than 1, submit seperately</i> -->
                    <div class="">
                        @* <input type="text" class="form-control" id="inputReffer" placeholder="Referred by">*@
                        @Html.TextBoxFor(model => model.CustomerVM.referred_by, new { placeholder = "Referred By", @class = "form-control", id = "referredBy", name = "referredBy" })
                        @Html.ValidationMessageFor(model => model.CustomerVM.referred_by, "", new { @class = "text-danger" })

                    </div>
                </div>
            </div>
            <div class="col-lg-6">
                <div class="form-group row">
                    <label for="pppAmount1" class=" col-form-label">PPP # 1 (amount) <span style="color:red"> *</span></label>
                    <!-- <i>if more than 1, submit seperately</i> -->
                    <div class="">

                        @Html.TextBoxFor(model => model.CustomerVM.amount_first, new { placeholder = "$", type = "number", pattern = "[0-9]", @class = "form-control", id = "pppAmount1", name = "currencyField1", required = "required" })
                        @Html.ValidationMessageFor(model => model.CustomerVM.amount_first, "", new { @class = "text-danger" })
                    </div>
                </div>
            </div>
            <div class="col-lg-3">
                <div class="form-group row">
                    <label for="pppAmount1Date" class=" col-form-label">Date Received </label>
                    <!-- <i>if more than 1, submit seperately</i> -->
                    <div class="">
                        @* <input type="date" class="form-control" id="inputDate1" placeholder="DD/MM/YY">*@
                        @Html.TextBoxFor(model => model.CustomerVM.receiving_date_first, new { type = "date", placeholder = "DD/MM/YY", @class = "form-control", id = "pppAmount1Date", required = "required" })
                        @Html.ValidationMessageFor(model => model.CustomerVM.receiving_date_first, "", new { @class = "text-danger" })
                    </div>
                </div>
            </div>
            <div class="col-lg-1 col-margin text-center"><span>Or</span></div>
            <div class="col-lg-2">
                <div class="form-group row">
                    <label for="chbAmout1" class=" col-form-label">Not Received</label>
                    <!-- <i>if more than 1, submit seperately</i> -->
                    <div class="">
                        @*<input type="checkbox" id="chbAmout1" name="chbAmout1">*@
                        @Html.CheckBoxFor(model => model.CustomerVM.chbAmount1, new { id = "no_pppAmount1" })


                    </div>
                </div>
            </div>
            <div class="col-lg-6">
                <div class="form-group row">
                    <label for="pppAmount2" class=" col-form-label">PPP # 2 (amount)<span style="color:red"> *</span></label>
                    <!-- <i>if more than 1, submit seperately</i> -->
                    <div class="">
                        @*  <input type="text" class="form-control" name="currency-field" id="currency-field2" pattern="^\$\d{1,3}(,\d{3})*(\.\d+)?$" value="" data-type="currency" placeholder="$">*@
                        @Html.TextBoxFor(model => model.CustomerVM.amount_second, new { placeholder = "$", type = "number", @class = "form-control", id = "pppAmount2", name = "currencyField2", required = true })
                        @Html.ValidationMessageFor(model => model.CustomerVM.amount_second, "", new { @class = "text-danger" })
                    </div>
                </div>
            </div>
            <div class="col-lg-3">
                <div class="form-group row">
                    <label for="pppAmount2Date" class=" col-form-label">Date Received</label>
                    <!-- <i>if more than 1, submit seperately</i> -->
                    <div class="">
                        @*<input type="date" class="form-control" id="inputDate2" placeholder="DD/MM/YY">*@
                        @Html.TextBoxFor(model => model.CustomerVM.receiving_date_second, new { type = "date", placeholder = "DD/MM/YY", @class = "form-control", id = "pppAmount2Date", name = "inputDate2", required = "required" })
                        @Html.ValidationMessageFor(model => model.CustomerVM.receiving_date_second, "", new { @class = "text-danger" })
                    </div>
                </div>
            </div>
            <div class="col-lg-1 col-margin text-center"><span>Or</span></div>
            <div class="col-lg-2">
                <div class="form-group row">
                    <label for="chbAmout2" class=" col-form-label">Not Received</label>
                    <!-- <i>if more than 1, submit seperately</i> -->
                    <div class="">
                        @*<input type="checkbox" id="chbAmout2" name="chbAmout2">*@
                        @Html.CheckBoxFor(model => model.CustomerVM.chbAmount2, new { id = "no_pppAmount2" })
                    </div>
                </div>
            </div>
        </div>


        <div class="row g-3 mt-3">
            <div class="d-flex justify-content-between align-items-center">
                <label class="label-style">Files to Upload<span class="text"> (PDF is preferred)</span></label>
                <label class="label-style">Skip<span class="text"> (Not available)</span></label>
            </div>

            <ol class="list-group list-group-numbered">
                @for (var i = 0; i < Model.record.Count; i++)
                {

                    <li>
                        <p> @Model.record[i].name <span style="color:red"> *</span></p>
                        @Html.HiddenFor(model => model.record[i].id)
                        @Html.HiddenFor(model => model.record[i].name)
                        <div class="action-panel">
                            <progress id="@("fileUpload"+(i+1)+"Progress")" max="100" value="0"> 0% </progress>

                            <label class="fileUpload" for="@("fileUpload"+(i+1))">
                                <input id="@("fileUpload"+(i+1))" name=record[@i].fileUpload accept="application/pdf" type="file" onchange="fileUpload(event,'@(" fileUpload"+(i+1)+"Progress")','@("fileUpload"+(i+1)+"Success")')" required />
                                @*id="@("fileUpload"+(i+1))"*@

                                Choose file
                            </label>
                            @if (Model.record[i].fileUploadPath != null)
                            {
                                <a target="_blank" href=@Model.record[i].fileUploadPath download>
                                    <img src="/images/myw3schoolsimage.jpg" alt="W3Schools" width="104" height="142">
                                </a>
                            }

                            @Html.ValidationMessageFor(model => model.record[i].fileUpload, "", new { @class = "text-danger" })
                            <span class="success-panel" id="@(" fileUpload"+(i+1)+"Success")">
                                <i class="fas fa-check" style="color:green; font-size: 24px;"></i>
                            </span>
                        </div>
                        or
                        @Html.CheckBoxFor(model => model.record[i].chbFile, new { id = "no_fileUpload" + (i + 1) })
                    </li>

                }
            </ol>

        </div>

        <div class="text-center">
            <span id="spanfile"></span>
            <button type="submit" id="btnSubmit" name="btnSubmit" class="btn btn-primary btn-lg mt-3">Update</button>

        </div>

    </form>
}

</div>

}

<div>
    @Html.ActionLink("Back to List", "Index")
</div>
<script src="https://code.jquery.com/jquery-3.4.1.min.js"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/OwlCarousel2/2.3.4/owl.carousel.min.js"></script>
<script src="https://cdn.jsdelivr.net/npm/bootstrap@5.1.3/dist/js/bootstrap.bundle.min.js"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/popper.js/1.12.9/umd/popper.min.js" integrity="sha384-ApNbgh9B+Y1QKtv3Rn7W3mgPxhU9K/ScQsAP7hUibX39j7fakFPskvXusvfa0b4Q" crossorigin="anonymous"></script>
<script src="~/Lib/wow/wow.min.js"></script>
<script src="~/Lib/easing/easing.min.js"></script>
<script src="~/Scripts/script.js"></script>
@section Scripts {
    @Scripts.Render("~/bundles/jqueryval")
}
